import{r as a,j as e,L as t,u as y}from"./index-BrtpL7fl.js";import{s as d,L as N}from"./Logo26Building-DpuaB7Vb.js";const v=({limit:i=5,showTitle:n=!0,className:l=""})=>{const[x,m]=a.useState([]),[h,c]=a.useState(!0),[o,g]=a.useState("");a.useEffect(()=>{u()},[i]);const u=async()=>{try{c(!0);const{data:s,error:r}=await d.from("notices").select(`
          *,
          profiles (
            name,
            email
          )
        `).eq("is_published",!0).order("is_important",{ascending:!1}).order("created_at",{ascending:!1}).limit(i);if(r)throw r;m(s||[])}catch(s){console.error("공지사항 로딩 오류:",s),g("공지사항을 불러오는데 실패했습니다.")}finally{c(!1)}},p=s=>{const r=new Date(s),f=Math.abs(new Date().getTime()-r.getTime()),j=Math.ceil(f/(1e3*60*60*24));return j===1?"어제":j<7?`${j}일 전`:r.toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"})};return h?e.jsxs("div",{className:`bg-white rounded-2xl shadow-lg p-6 ${l}`,children:[n&&e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"공지사항"}),e.jsx(t,{to:"/notices",className:"text-blue-600 hover:text-blue-700 font-medium text-sm",children:"전체보기 →"})]}),e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((s,r)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},r))})]}):o?e.jsxs("div",{className:`bg-white rounded-2xl shadow-lg p-6 ${l}`,children:[n&&e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"공지사항"}),e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx("i",{className:"ri-error-warning-line text-4xl mb-2"}),e.jsx("p",{children:o})]})]}):x.length===0?e.jsxs("div",{className:`bg-white rounded-2xl shadow-lg p-6 ${l}`,children:[n&&e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"공지사항"}),e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx("i",{className:"ri-notification-line text-4xl mb-2"}),e.jsx("p",{children:"등록된 공지사항이 없습니다."})]})]}):e.jsxs("div",{className:`bg-white rounded-2xl shadow-lg p-6 ${l}`,children:[n&&e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"공지사항"}),e.jsx(t,{to:"/notices",className:"text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors duration-200",children:"전체보기 →"})]}),e.jsx("div",{className:"space-y-4",children:x.map(s=>e.jsx(t,{to:`/notices/${s.id}`,className:"block group",children:e.jsx("div",{className:"border border-gray-200 rounded-xl p-4 hover:border-blue-300 hover:shadow-md transition-all duration-200 group-hover:bg-blue-50/30",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.is_important&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx("i",{className:"ri-fire-line mr-1"}),"중요"]}),e.jsx("span",{className:"text-sm text-gray-500",children:p(s.created_at)})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-blue-600 transition-colors duration-200 line-clamp-2",children:s.title}),e.jsxs("p",{className:"text-gray-600 text-sm mt-2 line-clamp-2",children:[s.content.replace(/<[^>]*>/g,"").substring(0,100),s.content.length>100&&"..."]})]}),e.jsxs("div",{className:"flex items-center gap-3 ml-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"ri-eye-line"}),e.jsx("span",{children:s.view_count})]}),e.jsx("i",{className:"ri-arrow-right-s-line text-lg group-hover:translate-x-1 transition-transform duration-200"})]})]})})},s.id))})]})};function _(){const[i,n]=a.useState(!1),[l,x]=a.useState(null),[m,h]=a.useState(!0),[c,o]=a.useState(!1);y(),a.useEffect(()=>{g()},[]);const g=async()=>{try{const{data:{user:s}}=await d.auth.getUser();x(s),n(!!s),s&&await u(s.id)}catch(s){console.error("Error checking user:",s)}finally{h(!1)}},u=async s=>{try{const{data:r,error:b}=await d.from("move_in_cards").select("id").eq("user_id",s).limit(1);if(b){console.error("Error checking move-in card:",b);return}o(r&&r.length>0)}catch(r){console.error("Error checking move-in card:",r)}},p=async()=>{try{await d.auth.signOut(),x(null),n(!1),o(!1)}catch(s){console.error("Error logging out:",s)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[e.jsx("header",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(N,{size:40})}),e.jsx("nav",{className:"flex items-center space-x-4",children:m?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"로딩 중..."})]}):i?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["안녕하세요, ",l?.user_metadata?.name||l?.email||"사용자","님"]}),e.jsx(t,{to:"/dashboard",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium cursor-pointer whitespace-nowrap",children:"대시보드"}),e.jsx("button",{onClick:p,className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium cursor-pointer whitespace-nowrap",children:"로그아웃"})]}):e.jsx(e.Fragment,{children:e.jsx(t,{to:"/login",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium cursor-pointer whitespace-nowrap",children:"로그인"})})})]})})}),e.jsxs("section",{className:"relative py-20 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('https://readdy.ai/api/search-image?query=Modern%20office%20building%20entrance%20lobby%20with%20glass%20windows%2C%20professional%20business%20environment%2C%20clean%20minimalist%20design%2C%20bright%20natural%20lighting%2C%20contemporary%20architecture%2C%20people%20walking%20in%20business%20attire%2C%20marble%20floors%2C%20reception%20desk%20area&width=1200&height=600&seq=hero-building&orientation=landscape')"},children:e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"})}),e.jsxs("div",{className:"relative max-w-7xl mx-auto text-center",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"26빌딩 입주카드 시스템"}),e.jsx("p",{className:"text-xl md:text-2xl text-white mb-8 max-w-3xl mx-auto",children:"간편하고 체계적인 입주자 정보 관리 시스템으로 효율적인 빌딩 운영을 시작하세요"}),i?c?e.jsx("p",{className:"text-lg text-blue-100 mb-8 max-w-2xl mx-auto",children:"대시보드에서 입주카드를 관리하고 새로운 입주카드를 작성할 수 있습니다"}):e.jsx("p",{className:"text-lg text-blue-100 mb-8 max-w-2xl mx-auto",children:"입주카드를 작성하여 입주 신청을 시작하세요"}):e.jsx("p",{className:"text-lg text-blue-100 mb-8 max-w-2xl mx-auto",children:"입주카드를 작성하여 입주 신청을 시작하세요 (로그인 필요)"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i?c?e.jsx(t,{to:"/dashboard",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-lg text-lg font-semibold cursor-pointer whitespace-nowrap inline-block",children:"대시보드로 이동"}):e.jsx(t,{to:"/move-in-card/new",className:"bg-green-600 hover:bg-green-700 text-white px-8 py-4 rounded-lg text-lg font-semibold cursor-pointer whitespace-nowrap inline-block",children:"새 입주카드 작성"}):e.jsx(t,{to:"/move-in-card/new",className:"bg-green-600 hover:bg-green-700 text-white px-8 py-4 rounded-lg text-lg font-semibold cursor-pointer whitespace-nowrap inline-block",children:"입주카드 작성"}),e.jsx(t,{to:"/admin",className:"bg-white hover:bg-gray-100 text-gray-900 px-8 py-4 rounded-lg text-lg font-semibold cursor-pointer whitespace-nowrap inline-block",children:"관리자 로그인"})]})]})]}),e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx(v,{limit:5,showTitle:!0}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"빠른 링크"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(t,{to:"/move-in-card/new",className:"flex items-center p-4 bg-blue-50 hover:bg-blue-100 rounded-xl transition-colors duration-200 group",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4 group-hover:bg-blue-200 transition-colors duration-200",children:e.jsx("i",{className:"ri-file-add-line text-xl text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"입주카드 작성"}),e.jsx("p",{className:"text-sm text-gray-600",children:"새로운 입주카드를 작성하세요"})]})]}),e.jsxs(t,{to:"/dashboard",className:"flex items-center p-4 bg-green-50 hover:bg-green-100 rounded-xl transition-colors duration-200 group",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mr-4 group-hover:bg-green-200 transition-colors duration-200",children:e.jsx("i",{className:"ri-dashboard-line text-xl text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"내 대시보드"}),e.jsx("p",{className:"text-sm text-gray-600",children:"입주카드 현황을 확인하세요"})]})]}),e.jsxs(t,{to:"/complaints/new",className:"flex items-center p-4 bg-orange-50 hover:bg-orange-100 rounded-xl transition-colors duration-200 group",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mr-4 group-hover:bg-orange-200 transition-colors duration-200",children:e.jsx("i",{className:"ri-customer-service-line text-xl text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"민원접수"}),e.jsx("p",{className:"text-sm text-gray-600",children:"26빌딩 관련 민원을 접수하세요"})]})]}),e.jsxs(t,{to:"/admin",className:"flex items-center p-4 bg-purple-50 hover:bg-purple-100 rounded-xl transition-colors duration-200 group",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mr-4 group-hover:bg-purple-200 transition-colors duration-200",children:e.jsx("i",{className:"ri-settings-3-line text-xl text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"관리자 로그인"}),e.jsx("p",{className:"text-sm text-gray-600",children:"관리자 페이지로 이동하세요"})]})]})]})]})]})})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"주요 기능"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"26빌딩 입주카드 시스템의 핵심 기능들을 확인해보세요"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("i",{className:"ri-user-add-line text-2xl text-blue-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"간편한 회원가입"}),e.jsx("p",{className:"text-gray-600",children:"빠르고 간단한 회원가입 절차로 입주자 등록을 쉽게 완료할 수 있습니다."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("i",{className:"ri-file-text-line text-2xl text-green-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"입주카드 작성"}),e.jsx("p",{className:"text-gray-600",children:"체계적인 양식으로 입주자 정보를 정확하고 완전하게 기록할 수 있습니다."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("i",{className:"ri-settings-3-line text-2xl text-purple-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"관리자 시스템"}),e.jsx("p",{className:"text-gray-600",children:"모든 입주카드를 효율적으로 관리하고 승인할 수 있는 관리자 도구를 제공합니다."})]})]})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"입주 절차"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"간단한 3단계로 입주 절차를 완료하세요"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"회원가입"}),e.jsx("p",{className:"text-gray-600",children:"기본 정보를 입력하여 계정을 생성합니다."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"입주카드 작성"}),e.jsx("p",{className:"text-gray-600",children:"상세한 입주자 정보를 입력하여 카드를 작성합니다."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"승인 완료"}),e.jsx("p",{className:"text-gray-600",children:"관리자 승인 후 입주가 완료됩니다."})]})]})]})}),e.jsx("section",{className:"py-20 bg-blue-600",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:i?e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"환영합니다!"}),e.jsxs("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:[l?.user_metadata?.name||l?.email||"사용자","님, 26빌딩 입주카드 시스템을 이용해보세요"]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:c?e.jsx(t,{to:"/dashboard",className:"bg-white hover:bg-gray-100 text-blue-600 px-8 py-4 rounded-lg text-lg font-semibold cursor-pointer whitespace-nowrap inline-block",children:"대시보드로 이동"}):e.jsx(t,{to:"/move-in-card/new",className:"bg-green-600 hover:bg-green-700 text-white px-8 py-4 rounded-lg text-lg font-semibold cursor-pointer whitespace-nowrap inline-block",children:"새 입주카드 작성"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"지금 바로 시작하세요"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"26빌딩의 새로운 입주자가 되어 편리한 빌딩 생활을 경험해보세요"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(t,{to:"/register",className:"bg-white hover:bg-gray-100 text-blue-600 px-8 py-4 rounded-lg text-lg font-semibold cursor-pointer whitespace-nowrap inline-block",children:"회원가입"}),e.jsx(t,{to:"/move-in-card/new",className:"bg-green-600 hover:bg-green-700 text-white px-8 py-4 rounded-lg text-lg font-semibold cursor-pointer whitespace-nowrap inline-block",children:"입주카드 작성"})]})]})})}),e.jsx("footer",{className:"bg-gray-900 text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsx(N,{size:32})}),e.jsx("p",{className:"text-gray-400 mb-4",children:"효율적이고 체계적인 입주자 관리 시스템으로 더 나은 빌딩 운영을 제공합니다."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"서비스"}),e.jsxs("ul",{className:"space-y-2 text-gray-400",children:[e.jsx("li",{children:e.jsx(t,{to:"/register",className:"hover:text-white cursor-pointer",children:"입주자 등록"})}),e.jsx("li",{children:e.jsx(t,{to:"/card-form",className:"hover:text-white cursor-pointer",children:"입주카드 작성"})}),e.jsx("li",{children:e.jsx(t,{to:"/admin",className:"hover:text-white cursor-pointer",children:"관리자 시스템"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"지원"}),e.jsxs("ul",{className:"space-y-2 text-gray-400",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white cursor-pointer",children:"고객센터"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white cursor-pointer",children:"FAQ"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white cursor-pointer",children:"이용약관"})})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:e.jsxs("p",{children:["© 2024 26빌딩. All rights reserved. | ",e.jsx("a",{href:"https://readdy.ai/?origin=logo",className:"hover:text-white cursor-pointer",children:"Website Builder"})]})})]})})]})}export{_ as default};
