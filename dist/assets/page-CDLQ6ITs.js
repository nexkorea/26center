import{a as u,r,j as e,L as s}from"./index-qLvPICOV.js";import{s as o,L as n}from"./Logo26Building-D4GKwBS0.js";function b(){const{id:l}=u(),[t,h]=r.useState(null),[g,c]=r.useState(!0),[x,p]=r.useState("");r.useEffect(()=>{l&&j(l)},[l]);const j=async a=>{try{c(!0),await o.rpc("increment_notice_view_count",{notice_id:a});const{data:i,error:m}=await o.from("notices").select(`
          *,
          profiles (
            name,
            email
          )
        `).eq("id",a).eq("is_published",!0).single();if(m)throw m;h(i)}catch(i){console.error("공지사항 로딩 오류:",i),p("공지사항을 불러오는데 실패했습니다.")}finally{c(!1)}},d=a=>new Date(a).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return g?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[e.jsx("header",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsx(s,{to:"/",className:"flex items-center space-x-3",children:e.jsx(n,{size:40})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(s,{to:"/notices",className:"text-gray-600 hover:text-gray-900 font-medium",children:"목록으로"}),e.jsx(s,{to:"/",className:"text-gray-600 hover:text-gray-900 font-medium",children:"홈으로"})]})]})})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-8"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]})})})]}):x||!t?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[e.jsx("header",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsx(s,{to:"/",className:"flex items-center space-x-3",children:e.jsx(n,{size:40})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(s,{to:"/notices",className:"text-gray-600 hover:text-gray-900 font-medium",children:"목록으로"}),e.jsx(s,{to:"/",className:"text-gray-600 hover:text-gray-900 font-medium",children:"홈으로"})]})]})})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[e.jsx("i",{className:"ri-error-warning-line text-6xl text-red-500 mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"공지사항을 찾을 수 없습니다"}),e.jsx("p",{className:"text-gray-600 mb-6",children:x||"요청하신 공지사항이 존재하지 않거나 삭제되었습니다."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(s,{to:"/notices",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors duration-200",children:"목록으로"}),e.jsx(s,{to:"/",className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-medium transition-colors duration-200",children:"홈으로"})]})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[e.jsx("header",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsx(s,{to:"/",className:"flex items-center space-x-3",children:e.jsx(n,{size:40})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(s,{to:"/notices",className:"text-gray-600 hover:text-gray-900 font-medium",children:"목록으로"}),e.jsx(s,{to:"/",className:"text-gray-600 hover:text-gray-900 font-medium",children:"홈으로"})]})]})})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-6 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.is_important&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800",children:[e.jsx("i",{className:"ri-fire-line mr-1"}),"중요"]}),e.jsx("span",{className:"text-sm text-gray-500",children:d(t.created_at)}),t.profiles&&e.jsxs("span",{className:"text-sm text-gray-500",children:["by ",t.profiles.name]})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:t.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"ri-eye-line"}),e.jsxs("span",{children:["조회 ",t.view_count]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"ri-time-line"}),e.jsxs("span",{children:["수정 ",d(t.updated_at)]})]})]})]}),e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("div",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:t.content.replace(/\n/g,"<br>")}})}),e.jsx("div",{className:"border-t border-gray-200 pt-6 mt-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(s,{to:"/notices",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium transition-colors duration-200",children:[e.jsx("i",{className:"ri-arrow-left-line"}),"목록으로 돌아가기"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>window.print(),className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-700 font-medium transition-colors duration-200",children:[e.jsx("i",{className:"ri-printer-line"}),"인쇄"]}),e.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),alert("링크가 복사되었습니다.")},className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-700 font-medium transition-colors duration-200",children:[e.jsx("i",{className:"ri-links-line"}),"링크 복사"]})]})]})})]})})]})}export{b as default};
